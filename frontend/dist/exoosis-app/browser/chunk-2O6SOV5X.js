import{a as j}from"./chunk-GAVR2D5O.js";import{a as E,b as V,c as I,f as T,m as O}from"./chunk-SANEUAC2.js";import{Da as h,Ha as u,Hb as S,Ib as M,Na as x,Oa as i,Ob as k,Pa as e,T as c,U as m,Wa as y,Xa as p,Ya as d,a as _,db as n,eb as w,fb as A,ib as C,jb as f,kb as b,ra as g,ya as v}from"./chunk-JDCDSAQ7.js";function F(a,o){a&1&&(i(0,"span",18),n(1,"Inactive"),e())}function W(a,o){if(a&1){let t=y();i(0,"div",9)(1,"div",10)(2,"span",5),n(3,"category"),e()(),i(4,"div",11)(5,"div",12)(6,"h3",13),n(7),e(),u(8,F,2,0,"span",14),e(),i(9,"div",15)(10,"button",16),p("click",function(){let r=c(t).$implicit,s=d();return m(s.openModal(r))}),n(11,"Edit"),e(),i(12,"button",17),p("click",function(){let r=c(t).$implicit,s=d();return m(s.deleteCategory(r.id))}),n(13,"Remove"),e()()()()}if(a&2){let t=o.$implicit;g(7),w(t.name),g(),x("ngIf",!t.isActive)}}function z(a,o){if(a&1){let t=y();i(0,"div",19)(1,"div",20)(2,"div",21)(3,"h3",22),n(4),e(),i(5,"button",23),p("click",function(){c(t);let r=d();return m(r.closeModal())}),i(6,"span",5),n(7,"close"),e()()(),i(8,"div",24)(9,"div")(10,"label",25),n(11,"Category Name"),e(),i(12,"input",26),b("ngModelChange",function(r){c(t);let s=d();return f(s.currentCategory.name,r)||(s.currentCategory.name=r),m(r)}),e()(),i(13,"div",27)(14,"input",28),b("ngModelChange",function(r){c(t);let s=d();return f(s.currentCategory.isActive,r)||(s.currentCategory.isActive=r),m(r)}),e(),i(15,"label",29),n(16,"Active Category"),e()()(),i(17,"div",30)(18,"button",31),p("click",function(){c(t);let r=d();return m(r.closeModal())}),n(19,"Cancel"),e(),i(20,"button",32),p("click",function(){c(t);let r=d();return m(r.saveCategory())}),n(21,"Save Category"),e()()()()}if(a&2){let t=d();g(4),A("",t.currentCategory.id?"Edit":"Add"," Category"),g(8),C("ngModel",t.currentCategory.name),g(2),C("ngModel",t.currentCategory.isActive)}}var N=class a{constructor(o){this.categoryService=o}categories=[];isModalOpen=!1;currentCategory={};ngOnInit(){this.loadCategories()}loadCategories(){this.categoryService.getCategories().subscribe(o=>this.categories=o)}openModal(o=null){this.currentCategory=o?_({},o):{isActive:!0},this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}saveCategory(){this.currentCategory.id?this.categoryService.updateCategory(this.currentCategory.id,{name:this.currentCategory.name??"",isActive:this.currentCategory.isActive}).subscribe(()=>{this.loadCategories(),this.closeModal()}):this.categoryService.createCategory({name:this.currentCategory.name??"",isActive:this.currentCategory.isActive}).subscribe(()=>{this.loadCategories(),this.closeModal()})}deleteCategory(o){confirm("Are you sure you want to remove this category?")&&this.categoryService.deleteCategory(o).subscribe(()=>this.loadCategories())}static \u0275fac=function(t){return new(t||a)(v(j))};static \u0275cmp=h({type:a,selectors:[["app-admin-categories"]],decls:14,vars:2,consts:[[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-500","text-sm"],[1,"bg-primary","text-white","px-5","py-2.5","rounded-lg","text-sm","font-bold","shadow-md","hover:bg-blue-600","transition-colors","flex","items-center","gap-2",3,"click"],[1,"material-symbols-outlined"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-6"],["class","bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start gap-4 hover:shadow-md transition-shadow relative",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-navy-blue/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",4,"ngIf"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-gray-100","flex","items-start","gap-4","hover:shadow-md","transition-shadow","relative"],[1,"size-12","rounded-xl","bg-blue-50","text-primary","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"flex","items-center","gap-2"],[1,"font-bold","text-gray-800","truncate"],["class","px-1.5 py-0.5 rounded-md bg-amber-50 text-amber-600 text-[10px] font-bold uppercase",4,"ngIf"],[1,"flex","gap-2","mt-2"],[1,"text-xs","font-bold","text-primary","hover:underline",3,"click"],[1,"text-xs","font-bold","text-red-500","hover:underline",3,"click"],[1,"px-1.5","py-0.5","rounded-md","bg-amber-50","text-amber-600","text-[10px]","font-bold","uppercase"],[1,"fixed","inset-0","bg-navy-blue/60","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4"],[1,"bg-white","rounded-2xl","shadow-2xl","w-full","max-w-lg","overflow-hidden"],[1,"p-6","border-b","border-gray-100","flex","justify-between","items-center","bg-gray-50"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"p-6","space-y-4"],[1,"block","text-xs","font-bold","text-gray-400","uppercase","mb-1"],["placeholder","Category name",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3"],["type","checkbox","id","categoryActive",1,"size-4","rounded","border-gray-300","text-primary","focus:ring-primary",3,"ngModelChange","ngModel"],["for","categoryActive",1,"text-sm","font-bold","text-gray-700"],[1,"p-6","bg-gray-50","flex","gap-3","justify-end"],[1,"px-6","py-2","rounded-lg","border","border-gray-200","text-gray-600","font-bold","hover:bg-white","transition-all",3,"click"],[1,"px-6","py-2","rounded-lg","bg-primary","text-white","font-bold","hover:bg-blue-600","shadow-lg","shadow-primary/20","transition-all",3,"click"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),n(4,"Manage Categories"),e(),i(5,"p",3),n(6,"Create and update product categories"),e()(),i(7,"button",4),p("click",function(){return l.openModal()}),i(8,"span",5),n(9,"category"),e(),n(10," Add Category "),e()(),i(11,"div",6),u(12,W,14,2,"div",7),e(),u(13,z,22,3,"div",8),e()),t&2&&(g(12),x("ngForOf",l.categories),g(),x("ngIf",l.isModalOpen))},dependencies:[k,S,M,O,V,E,I,T],encapsulation:2})};export{N as AdminCategoriesComponent};
