import{a as V}from"./chunk-S3NPW5DK.js";import{a as I,b as T,c as U,f as O,m as j}from"./chunk-SANEUAC2.js";import{Da as w,Ha as x,Hb as M,Ib as E,Na as u,Oa as n,Ob as k,Pa as t,Qa as C,T as m,U as p,Wa as v,Xa as g,Ya as c,a as y,db as r,eb as A,fb as S,ib as b,jb as f,kb as _,pa as h,ra as s,ya as B}from"./chunk-JDCDSAQ7.js";function N(o,a){if(o&1&&C(0,"img",20),o&2){let e=c().$implicit;u("src",e.logoUrl,h)("alt",e.name)}}function F(o,a){o&1&&(n(0,"span",21),r(1,"No logo"),t())}function P(o,a){o&1&&(n(0,"span",22),r(1,"Inactive"),t())}function z(o,a){if(o&1){let e=v();n(0,"div",9)(1,"div",10),x(2,N,1,2,"img",11)(3,F,2,0,"span",12),t(),n(4,"div",13)(5,"div",14)(6,"h3",15),r(7),t(),x(8,P,2,0,"span",16),t(),n(9,"div",17)(10,"button",18),g("click",function(){let i=m(e).$implicit,d=c();return p(d.openModal(i))}),r(11,"Edit"),t(),n(12,"button",19),g("click",function(){let i=m(e).$implicit,d=c();return p(d.deleteBrand(i.id))}),r(13,"Remove"),t()()()()}if(o&2){let e=a.$implicit;s(2),u("ngIf",e.logoUrl),s(),u("ngIf",!e.logoUrl),s(4),A(e.name),s(),u("ngIf",!e.isActive)}}function L(o,a){if(o&1){let e=v();n(0,"div",23)(1,"div",24)(2,"div",25)(3,"h3",26),r(4),t(),n(5,"button",27),g("click",function(){m(e);let i=c();return p(i.closeModal())}),n(6,"span",5),r(7,"close"),t()()(),n(8,"div",28)(9,"div")(10,"label",29),r(11,"Name"),t(),n(12,"input",30),_("ngModelChange",function(i){m(e);let d=c();return f(d.currentBrand.name,i)||(d.currentBrand.name=i),p(i)}),t()(),n(13,"div")(14,"label",29),r(15,"Logo URL"),t(),n(16,"input",31),_("ngModelChange",function(i){m(e);let d=c();return f(d.currentBrand.logoUrl,i)||(d.currentBrand.logoUrl=i),p(i)}),t()(),n(17,"div",32)(18,"input",33),_("ngModelChange",function(i){m(e);let d=c();return f(d.currentBrand.isActive,i)||(d.currentBrand.isActive=i),p(i)}),t(),n(19,"label",34),r(20,"Active Partner"),t()()(),n(21,"div",35)(22,"button",36),g("click",function(){m(e);let i=c();return p(i.closeModal())}),r(23,"Cancel"),t(),n(24,"button",37),g("click",function(){m(e);let i=c();return p(i.saveBrand())}),r(25,"Save Brand"),t()()()()}if(o&2){let e=c();s(4),S("",e.currentBrand.id?"Edit":"Add"," Brand"),s(8),b("ngModel",e.currentBrand.name),s(4),b("ngModel",e.currentBrand.logoUrl),s(2),b("ngModel",e.currentBrand.isActive)}}var W=class o{constructor(a){this.brandService=a}brands=[];isModalOpen=!1;currentBrand={};ngOnInit(){this.loadBrands()}loadBrands(){this.brandService.getBrands().subscribe(a=>this.brands=a)}openModal(a=null){this.currentBrand=a?y({},a):{isActive:!0},this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}saveBrand(){this.currentBrand.id?this.brandService.updateBrand(this.currentBrand.id,{name:this.currentBrand.name??"",logoUrl:this.currentBrand.logoUrl,isActive:this.currentBrand.isActive}).subscribe(()=>{this.loadBrands(),this.closeModal()}):this.brandService.createBrand({name:this.currentBrand.name??"",logoUrl:this.currentBrand.logoUrl,isActive:this.currentBrand.isActive}).subscribe(()=>{this.loadBrands(),this.closeModal()})}deleteBrand(a){confirm("Are you sure you want to remove this brand?")&&this.brandService.deleteBrand(a).subscribe(()=>this.loadBrands())}static \u0275fac=function(e){return new(e||o)(B(V))};static \u0275cmp=w({type:o,selectors:[["app-admin-brands"]],decls:14,vars:2,consts:[[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-500","text-sm"],[1,"bg-primary","text-white","px-5","py-2.5","rounded-lg","text-sm","font-bold","shadow-md","hover:bg-blue-600","transition-colors","flex","items-center","gap-2",3,"click"],[1,"material-symbols-outlined"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-6"],["class","bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start gap-4 hover:shadow-md transition-shadow relative",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-navy-blue/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",4,"ngIf"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-gray-100","flex","items-start","gap-4","hover:shadow-md","transition-shadow","relative"],[1,"size-14","rounded-xl","bg-gray-50","border","border-gray-100","flex","items-center","justify-center","overflow-hidden"],["class","h-10 w-auto object-contain",3,"src","alt",4,"ngIf"],["class","text-[10px] font-semibold text-gray-400",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","items-center","gap-2"],[1,"font-bold","text-gray-800","truncate"],["class","px-1.5 py-0.5 rounded-md bg-amber-50 text-amber-600 text-[10px] font-bold uppercase",4,"ngIf"],[1,"flex","gap-2"],[1,"text-xs","font-bold","text-primary","hover:underline",3,"click"],[1,"text-xs","font-bold","text-red-500","hover:underline",3,"click"],[1,"h-10","w-auto","object-contain",3,"src","alt"],[1,"text-[10px]","font-semibold","text-gray-400"],[1,"px-1.5","py-0.5","rounded-md","bg-amber-50","text-amber-600","text-[10px]","font-bold","uppercase"],[1,"fixed","inset-0","bg-navy-blue/60","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4"],[1,"bg-white","rounded-2xl","shadow-2xl","w-full","max-w-lg","overflow-hidden"],[1,"p-6","border-b","border-gray-100","flex","justify-between","items-center","bg-gray-50"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"p-6","space-y-4"],[1,"block","text-xs","font-bold","text-gray-400","uppercase","mb-1"],["placeholder","Brand name",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["placeholder","https://",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3"],["type","checkbox","id","brandActive",1,"size-4","rounded","border-gray-300","text-primary","focus:ring-primary",3,"ngModelChange","ngModel"],["for","brandActive",1,"text-sm","font-bold","text-gray-700"],[1,"p-6","bg-gray-50","flex","gap-3","justify-end"],[1,"px-6","py-2","rounded-lg","border","border-gray-200","text-gray-600","font-bold","hover:bg-white","transition-all",3,"click"],[1,"px-6","py-2","rounded-lg","bg-primary","text-white","font-bold","hover:bg-blue-600","shadow-lg","shadow-primary/20","transition-all",3,"click"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),r(4,"Manage Brands"),t(),n(5,"p",3),r(6,"Create and update partner brand profiles"),t()(),n(7,"button",4),g("click",function(){return l.openModal()}),n(8,"span",5),r(9,"add_business"),t(),r(10," Add Brand "),t()(),n(11,"div",6),x(12,z,14,4,"div",7),t(),x(13,L,26,4,"div",8),t()),e&2&&(s(12),u("ngForOf",l.brands),s(),u("ngIf",l.isModalOpen))},dependencies:[k,M,E,j,T,I,U,O],encapsulation:2})};export{W as AdminBrandsComponent};
