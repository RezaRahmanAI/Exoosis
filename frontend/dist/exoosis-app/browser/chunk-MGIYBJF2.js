import{b as j,c as T,f as I,i as W,j as P,k as O,m as D}from"./chunk-SANEUAC2.js";import{Da as v,Ha as J,Hb as k,Ib as E,Na as x,Oa as i,Ob as V,Pa as n,T as d,U as c,Wa as w,Xa as p,Xb as h,Ya as s,Yb as A,a as f,b as S,db as r,eb as _,fb as M,ib as b,jb as g,kb as y,ra as m,ya as C}from"./chunk-JDCDSAQ7.js";function F(u,o){if(u&1){let e=w();i(0,"tr",14)(1,"td",15),r(2),n(),i(3,"td",16),r(4),n(),i(5,"td",9)(6,"span",17),r(7),n()(),i(8,"td",10)(9,"div",18)(10,"button",19),p("click",function(){let t=d(e).$implicit,l=s();return c(l.openModal(t))}),i(11,"span",20),r(12,"edit"),n()(),i(13,"button",21),p("click",function(){let t=d(e).$implicit,l=s();return c(l.deleteJob(t.id))}),i(14,"span",20),r(15,"delete"),n()()()()()}if(u&2){let e=o.$implicit;m(2),_(e.title),m(2),_(e.location),m(3),_(e.type)}}function q(u,o){if(u&1){let e=w();i(0,"div",22)(1,"div",23)(2,"div",24)(3,"h3",25),r(4),n(),i(5,"button",26),p("click",function(){d(e);let t=s();return c(t.closeModal())}),i(6,"span",5),r(7,"close"),n()()(),i(8,"div",27)(9,"div",28)(10,"div",29)(11,"label",30),r(12,"Job Title"),n(),i(13,"input",31),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.title,t)||(l.currentJob.title=t),c(t)}),n()(),i(14,"div")(15,"label",30),r(16,"Location"),n(),i(17,"input",32),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.location,t)||(l.currentJob.location=t),c(t)}),n()(),i(18,"div")(19,"label",30),r(20,"Type"),n(),i(21,"select",33),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.type,t)||(l.currentJob.type=t),c(t)}),p("change",function(){d(e);let t=s();return c(t.updateIcon())}),i(22,"option",34),r(23,"Full-time"),n(),i(24,"option",35),r(25,"Hybrid"),n(),i(26,"option",36),r(27,"Remote"),n()()(),i(28,"div")(29,"label",30),r(30,"Category"),n(),i(31,"input",37),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.category,t)||(l.currentJob.category=t),c(t)}),n()(),i(32,"div")(33,"label",30),r(34,"Team"),n(),i(35,"input",38),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.team,t)||(l.currentJob.team=t),c(t)}),n()()(),i(36,"div")(37,"label",30),r(38,"Salary Range"),n(),i(39,"input",39),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.salary,t)||(l.currentJob.salary=t),c(t)}),n()(),i(40,"div")(41,"label",30),r(42,"Description"),n(),i(43,"textarea",40),y("ngModelChange",function(t){d(e);let l=s();return g(l.currentJob.description,t)||(l.currentJob.description=t),c(t)}),n()(),i(44,"div")(45,"label",30),r(46,"Responsibilities (Comma separated)"),n(),i(47,"textarea",41),p("ngModelChange",function(t){d(e);let l=s();return c(l.responsibilitiesStr=t)}),n()(),i(48,"div")(49,"label",30),r(50,"Requirements (Comma separated)"),n(),i(51,"textarea",42),p("ngModelChange",function(t){d(e);let l=s();return c(l.requirementsStr=t)}),n()()(),i(52,"div",43)(53,"button",44),p("click",function(){d(e);let t=s();return c(t.closeModal())}),r(54,"Cancel"),n(),i(55,"button",45),p("click",function(){d(e);let t=s();return c(t.saveJob())}),r(56,"Save Posting"),n()()()()}if(u&2){let e=s();m(4),M("",e.currentJob.id?"Edit":"Post"," Job"),m(9),b("ngModel",e.currentJob.title),m(4),b("ngModel",e.currentJob.location),m(4),b("ngModel",e.currentJob.type),m(10),b("ngModel",e.currentJob.category),m(4),b("ngModel",e.currentJob.team),m(4),b("ngModel",e.currentJob.salary),m(4),b("ngModel",e.currentJob.description),m(4),x("ngModel",e.responsibilitiesStr),m(4),x("ngModel",e.requirementsStr)}}var N=class u{constructor(o){this.api=o}jobs=[];isModalOpen=!1;currentJob={};responsibilitiesStr="";requirementsStr="";mockStorageKey="exoosis_mock_jobs";ngOnInit(){this.loadJobs()}loadJobs(){if(h.useMockData){this.jobs=this.loadMockJobs();return}this.api.get("/jobs").subscribe(o=>this.jobs=o)}openModal(o=null){this.currentJob=o?f({},o):{type:"Full-time",location:"Dhaka",typeIcon:"schedule",category:"Engineering"},this.responsibilitiesStr=this.currentJob.responsibilities?.join(", ")||"",this.requirementsStr=this.currentJob.requirements?.join(", ")||"",this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}updateIcon(){let o={"Full-time":"schedule",Hybrid:"work_history",Remote:"laptop_mac",Contract:"history"};this.currentJob.typeIcon=o[this.currentJob.type||"Full-time"]}saveJob(){if(this.updateIcon(),this.currentJob.responsibilities=this.responsibilitiesStr.split(",").map(o=>o.trim()).filter(o=>!!o),this.currentJob.requirements=this.requirementsStr.split(",").map(o=>o.trim()).filter(o=>!!o),!this.currentJob.datePosted){let o=new Date().toDateString().split(" ");this.currentJob.datePosted=`${o[1]} ${o[2]}, ${o[3]}`}if(h.useMockData){let o=this.loadMockJobs();if(this.currentJob.id){let e=o.map(a=>a.id===this.currentJob.id?this.currentJob:a);this.saveMockJobs(e)}else{let e=o.length?Math.max(...o.map(t=>t.id))+1:1,a=S(f({},this.currentJob),{id:e});this.saveMockJobs([a,...o])}this.loadJobs(),this.closeModal();return}this.currentJob.id?this.api.put(`/jobs/${this.currentJob.id}`,this.currentJob).subscribe(()=>{this.loadJobs(),this.closeModal()}):this.api.post("/jobs",this.currentJob).subscribe(()=>{this.loadJobs(),this.closeModal()})}deleteJob(o){if(confirm("Are you sure you want to delete this job posting?")){if(h.useMockData){let e=this.loadMockJobs().filter(a=>a.id!==o);this.saveMockJobs(e),this.loadJobs();return}this.api.delete(`/jobs/${o}`).subscribe(()=>this.loadJobs())}}loadMockJobs(){let o=localStorage.getItem(this.mockStorageKey);if(!o){let e=[{id:1,title:"Senior Solutions Architect",location:"Dhaka",type:"Full-time",typeIcon:"schedule",category:"Engineering",description:"Lead enterprise solution design for flagship clients.",responsibilities:["Client discovery","Technical workshops","Solution design"],requirements:["5+ years experience","Cloud architecture","Stakeholder management"],team:"Delivery",salary:"Competitive",datePosted:"Aug 15, 2024"},{id:2,title:"Customer Success Manager",location:"Remote",type:"Hybrid",typeIcon:"work_history",category:"Customer Success",description:"Own enterprise onboarding journeys and adoption plans.",responsibilities:["Onboarding","Renewals","Quarterly reviews"],requirements:["SaaS experience","Account management","Strong communication"],team:"Customer Success",salary:"Negotiable",datePosted:"Aug 10, 2024"}];return localStorage.setItem(this.mockStorageKey,JSON.stringify(e)),e}try{return JSON.parse(o)}catch(e){return[]}}saveMockJobs(o){localStorage.setItem(this.mockStorageKey,JSON.stringify(o))}static \u0275fac=function(e){return new(e||u)(C(A))};static \u0275cmp=v({type:u,selectors:[["app-admin-jobs"]],decls:26,vars:2,consts:[[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-500","text-sm"],[1,"bg-primary","text-white","px-5","py-2.5","rounded-lg","text-sm","font-bold","shadow-md","hover:bg-blue-600","transition-colors","flex","items-center","gap-2",3,"click"],[1,"material-symbols-outlined"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","overflow-hidden"],[1,"w-full","text-left","border-collapse"],[1,"bg-gray-50","text-gray-400","text-xs","font-bold","uppercase"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"divide-y","divide-gray-50","text-sm"],["class","hover:bg-gray-50/50 transition-colors",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-navy-blue/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",4,"ngIf"],[1,"hover:bg-gray-50/50","transition-colors"],[1,"px-6","py-4","font-bold","text-gray-800"],[1,"px-6","py-4","text-gray-500"],[1,"px-2.5","py-1","rounded-full","bg-blue-50","text-primary","text-xs","font-medium"],[1,"flex","justify-end","gap-2"],[1,"p-2","text-gray-400","hover:text-primary","hover:bg-blue-50","rounded-md","transition-all",3,"click"],[1,"material-symbols-outlined","text-[20px]"],[1,"p-2","text-gray-400","hover:text-red-500","hover:bg-red-50","rounded-md","transition-all",3,"click"],[1,"fixed","inset-0","bg-navy-blue/60","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4"],[1,"bg-white","rounded-2xl","shadow-2xl","w-full","max-w-lg","overflow-hidden"],[1,"p-6","border-b","border-gray-100","flex","justify-between","items-center","bg-gray-50"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"p-6","space-y-4","max-h-[60vh]","overflow-y-auto","custom-scrollbar"],[1,"grid","grid-cols-2","gap-4"],[1,"col-span-2"],[1,"block","text-xs","font-bold","text-gray-400","uppercase","mb-1"],["placeholder","e.g. Solution Architect",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["placeholder","e.g. Dhaka",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],[1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none","appearance-none",3,"ngModelChange","change","ngModel"],["value","Full-time"],["value","Hybrid"],["value","Remote"],["placeholder","Engineering, Sales...",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["placeholder","e.g. Infrastructure",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["placeholder","Competitive / Negotiable",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["rows","3","placeholder","Job summary...",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["rows","2","placeholder","Task 1, Task 2...",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],["rows","2","placeholder","Skill 1, Skill 2...",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-200","focus:border-primary","outline-none",3,"ngModelChange","ngModel"],[1,"p-6","bg-gray-50","flex","gap-3","justify-end"],[1,"px-6","py-2","rounded-lg","border","border-gray-200","text-gray-600","font-bold","hover:bg-white","transition-all",3,"click"],[1,"px-6","py-2","rounded-lg","bg-primary","text-white","font-bold","hover:bg-blue-600","shadow-lg","shadow-primary/20","transition-all",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),r(4,"Job Board Management"),n(),i(5,"p",3),r(6,"Post new opportunities or manage existing listings"),n()(),i(7,"button",4),p("click",function(){return a.openModal()}),i(8,"span",5),r(9,"add"),n(),r(10," Post New Job "),n()(),i(11,"div",6)(12,"table",7)(13,"thead",8)(14,"tr")(15,"th",9),r(16,"Position"),n(),i(17,"th",9),r(18,"Location"),n(),i(19,"th",9),r(20,"Type"),n(),i(21,"th",10),r(22,"Actions"),n()()(),i(23,"tbody",11),J(24,F,16,3,"tr",12),n()()(),J(25,q,57,10,"div",13),n()),e&2&&(m(24),x("ngForOf",a.jobs),m(),x("ngIf",a.isModalOpen))},dependencies:[V,k,E,D,P,O,j,W,T,I],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}"]})};export{N as AdminJobsComponent};
