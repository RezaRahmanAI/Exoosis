import{J as p,N as d,Yb as b,h as o,l,o as t,w as i,z as n}from"./chunk-JDCDSAQ7.js";var u=class a{constructor(e){this.api=e}loadingSubject=new o(!1);errorSubject=new o(null);loading$=this.loadingSubject.asObservable();error$=this.errorSubject.asObservable();getBrands(){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.get("/brands").pipe(t(e=>e.data??[]),i(e=>this.handleError(e)),n(()=>this.loadingSubject.next(!1)))}getBrandById(e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.get(`/brands/${e}`).pipe(t(r=>r.data),i(r=>this.handleError(r)),n(()=>this.loadingSubject.next(!1)))}createBrand(e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.post("/brands",e).pipe(t(r=>r.data),i(r=>this.handleError(r)),n(()=>this.loadingSubject.next(!1)))}updateBrand(e,r){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.put(`/brands/${e}`,r).pipe(t(s=>s.data),i(s=>this.handleError(s)),n(()=>this.loadingSubject.next(!1)))}deleteBrand(e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.delete(`/brands/${e}`).pipe(t(r=>r.data),i(r=>this.handleError(r)),n(()=>this.loadingSubject.next(!1)))}handleError(e){let r=e.error?.message||e.message||"Failed to load brands.";return this.errorSubject.next(r),l(()=>e)}static \u0275fac=function(r){return new(r||a)(d(b))};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{u as a};
