import{a as W}from"./chunk-JEK56SXG.js";import{b,c as _,d as S,e as M,f as v,g as A,l as N,m as I}from"./chunk-SANEUAC2.js";import{Da as h,Ha as P,Ib as C,Na as g,Oa as e,Ob as y,Pa as s,Xa as x,Ya as w,db as o,eb as c,ib as m,jb as l,kb as p,ra as a,ya as f}from"./chunk-JDCDSAQ7.js";function T(i,d){if(i&1&&(e(0,"p",12),o(1),s()),i&2){let r=w();a(),c(r.error)}}function q(i,d){if(i&1&&(e(0,"p",13),o(1),s()),i&2){let r=w();a(),c(r.message)}}var E=class i{constructor(d){this.authService=d}currentPassword="";newPassword="";confirmPassword="";message="";error="";submit(){if(this.error="",this.message="",!this.currentPassword||!this.newPassword||!this.confirmPassword){this.error="Please complete all fields.";return}if(this.newPassword!==this.confirmPassword){this.error="Passwords do not match.";return}if(!this.authService.getCurrentUser()){this.error="Not authenticated.";return}this.authService.changePassword(this.currentPassword,this.newPassword).subscribe(r=>{if(!r.success){this.error=r.message||"Unable to update password.";return}this.currentPassword="",this.newPassword="",this.confirmPassword="",this.message="Password updated successfully."})}static \u0275fac=function(r){return new(r||i)(f(W))};static \u0275cmp=h({type:i,selectors:[["app-admin-change-password"]],decls:21,vars:5,consts:[[1,"flex","flex-col","gap-6"],[1,"text-2xl","font-bold","text-slate-900"],[1,"mt-2","text-sm","text-slate-500"],[1,"mt-6","max-w-xl","rounded-2xl","border","border-slate-200","bg-white","p-6"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-slate-700"],["type","password","name","currentPassword","required","",1,"mt-2","w-full","rounded-lg","border","border-slate-200","px-4","py-2","text-sm",3,"ngModelChange","ngModel"],["type","password","name","newPassword","required","",1,"mt-2","w-full","rounded-lg","border","border-slate-200","px-4","py-2","text-sm",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","required","",1,"mt-2","w-full","rounded-lg","border","border-slate-200","px-4","py-2","text-sm",3,"ngModelChange","ngModel"],["class","rounded-lg bg-red-50 px-3 py-2 text-xs text-red-500",4,"ngIf"],["class","rounded-lg bg-emerald-50 px-3 py-2 text-xs text-emerald-600",4,"ngIf"],["type","submit",1,"rounded-lg","bg-primary","px-6","py-2","text-sm","font-semibold","text-white"],[1,"rounded-lg","bg-red-50","px-3","py-2","text-xs","text-red-500"],[1,"rounded-lg","bg-emerald-50","px-3","py-2","text-xs","text-emerald-600"]],template:function(r,t){r&1&&(e(0,"div",0)(1,"div")(2,"h1",1),o(3,"Change Admin Password"),s(),e(4,"p",2),o(5,"Update your admin credentials securely."),s()(),e(6,"div",3)(7,"form",4),x("ngSubmit",function(){return t.submit()}),e(8,"label",5),o(9," Current Password "),e(10,"input",6),p("ngModelChange",function(n){return l(t.currentPassword,n)||(t.currentPassword=n),n}),s()(),e(11,"label",5),o(12," New Password "),e(13,"input",7),p("ngModelChange",function(n){return l(t.newPassword,n)||(t.newPassword=n),n}),s()(),e(14,"label",5),o(15," Confirm New Password "),e(16,"input",8),p("ngModelChange",function(n){return l(t.confirmPassword,n)||(t.confirmPassword=n),n}),s()(),P(17,T,2,1,"p",9)(18,q,2,1,"p",10),e(19,"button",11),o(20,"Update password"),s()()()()),r&2&&(a(10),m("ngModel",t.currentPassword),a(3),m("ngModel",t.newPassword),a(3),m("ngModel",t.confirmPassword),a(),g("ngIf",t.error),a(),g("ngIf",t.message))},dependencies:[y,C,I,A,b,_,S,N,v,M],encapsulation:2})};export{E as AdminChangePasswordComponent};
