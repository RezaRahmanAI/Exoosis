import{J as b,N as l,Yb as p,h as o,l as m,o as r,w as a,z as i}from"./chunk-JDCDSAQ7.js";var u=class s{constructor(t){this.api=t}loadingSubject=new o(!1);errorSubject=new o(null);loading$=this.loadingSubject.asObservable();error$=this.errorSubject.asObservable();getTeamMembers(){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.get("/team-members").pipe(r(t=>t.data??[]),a(t=>this.handleError(t)),i(()=>this.loadingSubject.next(!1)))}getTeamMembersBySection(t){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.get(`/team-members/by-section/${t}`).pipe(r(e=>e.data??[]),a(e=>this.handleError(e)),i(()=>this.loadingSubject.next(!1)))}getTeamMemberById(t){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.get(`/team-members/${t}`).pipe(r(e=>e.data),a(e=>this.handleError(e)),i(()=>this.loadingSubject.next(!1)))}createTeamMember(t){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.post("/team-members",t).pipe(r(e=>e.data),a(e=>this.handleError(e)),i(()=>this.loadingSubject.next(!1)))}updateTeamMember(t,e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.put(`/team-members/${t}`,e).pipe(r(n=>n.data),a(n=>this.handleError(n)),i(()=>this.loadingSubject.next(!1)))}deleteTeamMember(t){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.api.delete(`/team-members/${t}`).pipe(r(e=>e.data),a(e=>this.handleError(e)),i(()=>this.loadingSubject.next(!1)))}handleError(t){let e=t.error?.message||t.message||"Failed to load team members.";return this.errorSubject.next(e),m(()=>t)}static \u0275fac=function(e){return new(e||s)(l(p))};static \u0275prov=b({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a};
