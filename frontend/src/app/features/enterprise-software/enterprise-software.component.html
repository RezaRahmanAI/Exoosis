<app-page-header
  *ngIf="platform; else headerLoading"
  badge="Managed Service Platform"
  badgeIcon="cloud_done"
  [title]="platform.name"
  [description]="platform.tagline">
  <a
    pageHeaderActions
    routerLink="/products/exo-erp-suite"
    class="bg-primary hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold transition-all inline-flex items-center gap-2"
  >
    View flagship product
    <span class="material-symbols-outlined text-base">arrow_right_alt</span>
  </a>
  <a
    pageHeaderActions
    routerLink="/career"
    class="border border-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-100 transition-all dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-900"
  >
    Request a demo
  </a>
  <div pageHeaderExtra class="grid gap-4 lg:grid-cols-[1.2fr,0.8fr]">
    <p class="text-sm text-slate-500 dark:text-slate-300">{{ platform.description }}</p>
    <div class="flex flex-wrap gap-4">
      <div class="flex items-center gap-3">
        <span class="material-symbols-outlined text-primary">verified</span>
        <span class="text-sm text-slate-500 dark:text-slate-300">ISO-certified delivery team</span>
      </div>
      <div class="flex items-center gap-3">
        <span class="material-symbols-outlined text-primary">support_agent</span>
        <span class="text-sm text-slate-500 dark:text-slate-300">24/7 enterprise support</span>
      </div>
    </div>
  </div>
</app-page-header>

<main class="page-container py-12 lg:py-20" *ngIf="platform; else loading">
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
    <section class="lg:col-span-8 space-y-10">
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm">
        <h2 class="text-2xl font-bold text-navy-blue dark:text-white mb-2">Service blueprint</h2>
        <p class="text-slate-500 dark:text-slate-400 mb-6">Operational coverage for every stage of your enterprise rollout.</p>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="rounded-xl border border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/60 p-4">
            <p class="text-sm font-semibold text-slate-700 dark:text-slate-200">Discovery &amp; architecture</p>
            <p class="text-xs text-slate-500 dark:text-slate-400 mt-2">Workshops, asset mapping, compliance checks.</p>
          </div>
          <div class="rounded-xl border border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/60 p-4">
            <p class="text-sm font-semibold text-slate-700 dark:text-slate-200">Deployment &amp; migration</p>
            <p class="text-xs text-slate-500 dark:text-slate-400 mt-2">Zero-downtime cutover, data integrity validation.</p>
          </div>
          <div class="rounded-xl border border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/60 p-4">
            <p class="text-sm font-semibold text-slate-700 dark:text-slate-200">Training &amp; enablement</p>
            <p class="text-xs text-slate-500 dark:text-slate-400 mt-2">Role-based enablement for every business unit.</p>
          </div>
          <div class="rounded-xl border border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/60 p-4">
            <p class="text-sm font-semibold text-slate-700 dark:text-slate-200">Managed optimization</p>
            <p class="text-xs text-slate-500 dark:text-slate-400 mt-2">Monthly KPI reviews and roadmap alignment.</p>
          </div>
        </div>
      </div>

      <div>
        <h2 class="text-2xl font-bold text-navy-blue dark:text-white mb-4">Core modules</h2>
        <div class="space-y-6">
          <div *ngFor="let module of platform.modules" class="border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm bg-white dark:bg-slate-900">
            <div class="flex items-start justify-between gap-6">
              <div>
                <h3 class="text-xl font-semibold text-slate-900 dark:text-white">{{ module.name }}</h3>
                <p class="text-slate-600 dark:text-slate-300 mt-2">{{ module.summary }}</p>
              </div>
              <span class="material-symbols-outlined text-primary">verified</span>
            </div>
            <ul class="mt-4 space-y-2">
              <li *ngFor="let capability of module.capabilities" class="flex items-start gap-3 text-slate-600 dark:text-slate-300">
                <span class="material-symbols-outlined text-primary text-base mt-0.5">check_circle</span>
                <span>{{ capability }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="bg-gradient-to-r from-slate-900 to-slate-800 text-white rounded-2xl p-8">
        <div class="flex items-center justify-between flex-wrap gap-6">
          <div>
            <p class="text-xs uppercase tracking-[0.3em] text-blue-300">Service SLA</p>
            <h3 class="text-2xl font-bold mt-2">99.9% uptime commitment</h3>
            <p class="text-sm text-slate-300 mt-2">Dedicated response teams with real-time incident reporting.</p>
          </div>
          <button class="bg-white text-slate-900 px-6 py-3 rounded-lg font-semibold">Download SLA</button>
        </div>
      </div>
    </section>

    <aside class="lg:col-span-4 space-y-6">
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm">
        <div class="p-6 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800">
          <h2 class="text-lg font-bold text-navy-blue dark:text-white">Deployment options</h2>
          <p class="text-sm text-slate-500 dark:text-slate-400">Built for regulated and distributed teams.</p>
        </div>
        <div class="p-6 space-y-3">
          <div *ngFor="let option of platform.deploymentOptions" class="flex items-center gap-3 text-slate-600 dark:text-slate-300">
            <span class="material-symbols-outlined text-primary">cloud_done</span>
            <span>{{ option }}</span>
          </div>
        </div>
      </div>

      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm">
        <div class="p-6 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800">
          <h2 class="text-lg font-bold text-navy-blue dark:text-white">Operational outcomes</h2>
        </div>
        <div class="p-6 space-y-4">
          <div *ngFor="let metric of platform.metrics" class="flex items-center justify-between">
            <p class="text-slate-600 dark:text-slate-300">{{ metric.label }}</p>
            <span class="font-semibold text-slate-900 dark:text-white">{{ metric.value }}</span>
          </div>
        </div>
      </div>

      <div class="bg-navy-blue text-white rounded-2xl p-6 shadow-lg">
        <h3 class="text-xl font-semibold mb-3">Roadmap highlights</h3>
        <ul class="space-y-2 text-sm text-slate-200">
          <li *ngFor="let item of platform.roadmap" class="flex items-start gap-2">
            <span class="material-symbols-outlined text-primary text-base mt-0.5">arrow_right_alt</span>
            <span>{{ item }}</span>
          </li>
        </ul>
      </div>

      <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 p-6">
        <h3 class="text-lg font-bold text-navy-blue dark:text-white">Service tiers</h3>
        <div class="mt-4 space-y-3">
          <div class="flex items-center justify-between text-sm">
            <span class="text-slate-600 dark:text-slate-300">Standard</span>
            <span class="font-semibold text-slate-900 dark:text-white">Business hours</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <span class="text-slate-600 dark:text-slate-300">Premium</span>
            <span class="font-semibold text-slate-900 dark:text-white">24/5 response</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <span class="text-slate-600 dark:text-slate-300">Elite</span>
            <span class="font-semibold text-slate-900 dark:text-white">24/7 dedicated pod</span>
          </div>
        </div>
        <button class="mt-6 w-full rounded-lg bg-primary text-white py-2.5 text-sm font-semibold hover:bg-blue-600 transition-all">Compare tiers</button>
      </div>
    </aside>
  </div>
</main>

<ng-template #headerLoading>
  <div class="page-container py-10">
    <div class="animate-pulse h-8 w-52 bg-slate-200 rounded mb-4"></div>
    <div class="animate-pulse h-12 w-1/2 bg-slate-200 rounded"></div>
  </div>
</ng-template>

<ng-template #loading>
  <div class="min-h-[50vh] flex items-center justify-center">
    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
  </div>
  <p *ngIf="errorMessage" class="text-center text-slate-500">{{ errorMessage }}</p>
</ng-template>
